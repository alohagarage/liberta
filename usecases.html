<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="css/font-awesome.css" title="" type="text/css" />
  <link rel="stylesheet" href="css/style.css" title="" type="text/css" />
  <script type="text/javascript" src="js/jquery-1.8.1.min.js"></script>
  <script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/jquery-ui.min.js" charset="utf-8"> </script>
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/themes/base/jquery-ui.css" title="" type="text/css" />
  <!-- <script type="text/javascript" src="js/less-1.3.1.min.js"></script> -->
  <title>Use Cases</title>
  
</head>
<body>
  <div id="nav-bar">
    <ul>
      <li><a href="#diagram" class="scroll">Diagram</a></li>
      <li><a href="#game-flow" class="scroll">Play</a></li>
      <li><a href="#metrics-flow" class="scroll">Metrics</a></li>
      <li><a href="#auth-flow" class="scroll">Auth</a></li>
    </ul>
  </div>
  <div id="nav">
    <i class="icon-list scroll-top"></i>
  </div>
  <div id="container">
  <div id="main">
  <h2 id="diagram">Use Case Diagram</h2>
  <h2 id="game-flow">Play Game Flow</h2>
    <p><h3>Actor:</h3>
      Player
    </p>
    <p>
    <h3>Main Flow</h3>
    <ol>
      <li>PLAYER INITIATES SESSION</li>
      <li>NEW SENTENCE</li>
      <li>TIMER STARTS</li>
      <li>USER CLICKS WORDS IN CORRECT ORDER</li>
      <li>POINTS SHOWN</li>
      <li>REPEAT FROM STEP 2</li>
    </ol>
    </p>
    <p><h3>Alternative Flows</h3></p>
  <h2 id="metrics-flow">View Metrics Flow</h2>
    <p><h3>Actors:</h3>
      Player, Admin
    </p>
    <p><h3>Main Flow</h3></p>
    <p><h3>Alternative Flows</h3></p>
  <h2 id="auth-flow">Authorization Flow</h2>
    <p><h3>Actor:</h3>
      Player
    </p>
    <p><h3>Main Flow</h3></p>
    <p><h3>Alternative Flows</h3></p>
  </div><!-- end #main -->
  <div id="side-column">
  <ol id="side-notes">
  </ol>
    </div><!-- end #side-column -->
    </div><!-- end #container -->
  
</body>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function() {

  var freebaseTextUrl = 'https://www.googleapis.com/freebase/v1/text/en/';
  var freebaseImgUrl = 'https://www.googleapis.com/freebase/v1/image/en/';

  function alignNotes() {
    $.each($('.citation'), function(i, val) {
          var noteId = $(val).data('note');
          var query = $(val).data('freebase');
          var $noteId = $('#side-notes #' + noteId);
          $.getJSON(freebaseTextUrl + query,
            function(response) {
              var excerpt = '<div class="expand"><img src="' + freebaseImgUrl + query + '"></img>' + 
              response['result'] + '</div>';
              var lStr = response['result'].split(' ');
              var shortExcerpt = lStr.slice(0,25).join(' ') + ' <a href="#">Expand</a>';
              $noteId.html(excerpt);
            });
          var citePos = parseInt($(val).position().top) + .5;
          $noteId.css({
            'position': 'absolute',
            'top': citePos,
            }).addClass('side-note');
    })
  }

  alignNotes();
  $('#nav-bar').hover(function() {
    $('#nav-bar a').addClass('glow')
    }, function() {
    $('#nav-bar a').removeClass('glow')
    });
  $('#nav').hover(function() {
    $('#nav-bar a').addClass('glow')
    }, function() {
    });
  $('#nav-bar a').click(function() {
      $('#nav-bar a').removeClass('glow')
  });
  $('.citation').hover(function() {
    var noteId = $(this).data('note');
      $('#side-notes #' + noteId).css({'color': 'black', 'font-size': '1.03em'});
    }, function() {
    var noteId = $(this).data('note');
      $('#side-notes #' + noteId).css({'color': '#333333', 'font-size': '1em'});
    });
  $('.citation').click(function() {
    console.log('click');
    var noteId = $(this).data('note');
    $('#side-notes #' + noteId).toggle()
    //console.log($('#side-notes #' + noteId));
    return false
    });

  $('.side-note').live('click', function() {
      $(this).toggleClass('expand contract')
      });
  $('.side-note').draggable();

  $(".scroll").click(function(event){
    event.preventDefault();
    //$('html,body').animate({scrollTop:$(this.hash).offset().top}, 700, "easeInOutExpo");
    $('html,body').animate({scrollTop:$(this.hash).offset().top}, 700);
  });

  $(".scroll-top").click(function(event){
    //$('html,body').animate({scrollTop:$('#nav-bar').offset().top - 15}, 700, "easeInOutExpo");
    $('html,body').animate({scrollTop:$('#nav-bar').offset().top - 15}, 700);
  });

  $(window).resize(function() {
    alignNotes()
    });
  });
</script>
</html>
